{% extends 'base.html' %} 
{% block content %}
<div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
  <div class="bg-white dark:bg-dark-card shadow-2xl shadow-gray-200/50 dark:shadow-none rounded-2xl border border-gray-100 dark:border-gray-700 overflow-hidden">
    
    <div class="px-6 py-4 border-b border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/50 flex justify-between items-center">
      <h2 class="text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2">
        {% if note %}
        <i class="fas fa-edit text-emerald-500"></i> Chỉnh sửa Ghi chú
        {% else %}
        <i class="fas fa-plus-circle text-emerald-500"></i> Tạo Ghi chú mới
        {% endif %}
      </h2>
      <a href="{% url 'note-list' %}" class="text-gray-400 hover:text-red-500 transition-colors w-8 h-8 flex items-center justify-center rounded-full hover:bg-red-50 dark:hover:bg-red-900/20">
        <i class="fas fa-times text-lg"></i>
      </a>
    </div>

    <form method="POST" class="p-6 sm:p-8 space-y-6" x-data="{ selectedColor: '{{ note.color|default:'#ffffff' }}' }">
      {% csrf_token %}

      
      <div>
        <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3">Màu nền</label>
        <div class="flex flex-wrap gap-3">
          <label class="relative cursor-pointer group">
            <input type="radio" name="color" value="#ffffff" class="sr-only" x-model="selectedColor" />
            <div class="w-8 h-8 rounded-full border border-gray-300 shadow-sm transition-transform hover:scale-110"
              :class="{'ring-2 ring-offset-2 ring-emerald-500 border-emerald-500': selectedColor === '#ffffff'}"
              style="background-color: #ffffff"></div>
          </label>
          
          
          <label class="relative cursor-pointer group"><input type="radio" name="color" value="#ffcccb" class="sr-only" x-model="selectedColor" /><div class="w-8 h-8 rounded-full border border-transparent shadow-sm hover:scale-110" :class="{'ring-2 ring-offset-2 ring-emerald-500': selectedColor === '#ffcccb'}" style="background-color: #ffcccb"></div></label>
          <label class="relative cursor-pointer group"><input type="radio" name="color" value="#90ee90" class="sr-only" x-model="selectedColor" /><div class="w-8 h-8 rounded-full border border-transparent shadow-sm hover:scale-110" :class="{'ring-2 ring-offset-2 ring-emerald-500': selectedColor === '#90ee90'}" style="background-color: #90ee90"></div></label>
          <label class="relative cursor-pointer group"><input type="radio" name="color" value="#add8e6" class="sr-only" x-model="selectedColor" /><div class="w-8 h-8 rounded-full border border-transparent shadow-sm hover:scale-110" :class="{'ring-2 ring-offset-2 ring-emerald-500': selectedColor === '#add8e6'}" style="background-color: #add8e6"></div></label>
        </div>
      </div>

      <!-- Title -->
      <div>
        <input type="text" name="title" 
          class="block w-full border-0 border-b-2 border-gray-100 dark:border-gray-700 focus:border-emerald-500 focus:ring-0 text-3xl font-bold placeholder-gray-300 py-2 bg-transparent transition-colors text-gray-900 dark:text-white"
          placeholder="Tiêu đề..." value="{{ note.title|default:'' }}" required />
      </div>

      <!-- Content -->
      <div>
        <textarea name="content" rows="12" 
          class="block w-full border-0 bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4 text-gray-700 dark:text-gray-300 placeholder-gray-400 focus:ring-2 focus:ring-emerald-500/20 focus:bg-white dark:focus:bg-gray-800 transition-all resize-y leading-relaxed"
          placeholder="Nội dung ghi chú...">{{ note.content|default:'' }}</textarea>
      </div>

      <!-- Action Buttons -->
      <div class="flex items-center justify-end gap-3 pt-4 border-t border-gray-100 dark:border-gray-700">
        <a href="{% url 'note-list' %}" class="px-5 py-2.5 rounded-xl text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 font-medium transition-colors">Hủy bỏ</a>
        <button type="submit" class="px-6 py-2.5 rounded-xl bg-emerald-600 text-white font-bold shadow-lg shadow-emerald-500/30 hover:bg-emerald-700 hover:-translate-y-0.5 transition-all">
          <i class="fas fa-save mr-2"></i> Lưu lại
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}